{"mappings":"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","sources":["<anon>","src/main.js","src/js/home_page/func.js","src/js/home_page/home_page.js","src/js/modal-window.js","src/js/scrollTop.js"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRequire(\"3gP5N\");\nasync function $770301a53d70cdee$export$ca123186edb030a4(fetch) {\n    let allCategoryMarkup = `<li class=\"category-item js-current-category\" data-category=\"All Categories\">All Categories</li>`;\n    return allCategoryMarkup += fetch.data.map(({ list_name: list_name })=>{\n        return `<li class=\"category-item\" data-category=\"${list_name}\">${list_name}</li>`;\n    }).join(\"\");\n}\nasync function $770301a53d70cdee$export$8fa6b5c7c2e0e309(data) {\n    return await Promise.all(data.map(async ({ list_name: list_name, books: books })=>{\n        return `\n    <div class=\"book-category-container\">\n    <h3 class=\"js-book-category\">${list_name}</h3>\n    <ul class='books-list'>${await $770301a53d70cdee$export$83fa17a33843ed2e(books)}</ul>\n    <button class=\"button see-more\" data-js=\"${list_name}\" aria-label=\"See more\">See more</button>\n    </div>\n    `;\n    }));\n}\nfunction $770301a53d70cdee$var$addMediaWidth() {\n    const screenSize = window.screen.width;\n    addEventListener(\"resize\", ()=>{\n        if (window.innerWidth > 767 && screenSize < 768 || window.innerWidth > 1279 && screenSize < 1280 || window.innerWidth < 1279 && screenSize > 1280 || window.innerWidth > 1439 && screenSize < 1440 || window.innerWidth < 1439 && screenSize > 1440) location.reload();\n    });\n    if (screenSize < 768) return \"mobile\";\n    else if (screenSize < 1280) return \"tablet\";\n    else if (screenSize < 1440) return \"desktop\";\n    else return \"desktopXl\";\n}\nconst $770301a53d70cdee$export$83fa17a33843ed2e = async function(data) {\n    if ($770301a53d70cdee$var$addMediaWidth() === \"mobile\") return $770301a53d70cdee$export$21c7b1be35f5970e(data.slice(0, 1));\n    else if ($770301a53d70cdee$var$addMediaWidth() === \"tablet\") return $770301a53d70cdee$export$21c7b1be35f5970e(data.slice(0, 3));\n    else if ($770301a53d70cdee$var$addMediaWidth() === \"desktop\") return $770301a53d70cdee$export$21c7b1be35f5970e(data.slice(0, 4));\n    else return $770301a53d70cdee$export$21c7b1be35f5970e(data);\n};\nasync function $770301a53d70cdee$export$ef55d93817bcd964(category, data) {\n    const titleWords = category.split(\" \");\n    const halfIndex = Math.ceil(titleWords.length / 2);\n    const firstHalf = titleWords.slice(0, halfIndex).join(\" \");\n    const lastHalf = titleWords.slice(halfIndex).join(\" \");\n    return `\n  <h2 class=\"books-title\">${firstHalf} <span class=\"books-colortitle\">${lastHalf}</span></h2>\n  <ul class=\"books-list\">${await $770301a53d70cdee$export$21c7b1be35f5970e(data)}</ul>\n  <button class=\"button all-categories__btn\" data-js=\"All Categories\" aria-label=\"All categories\">All Categories</button>\n`;\n}\nasync function $770301a53d70cdee$export$21c7b1be35f5970e(data) {\n    return data.map(({ author: author, book_image: book_image, title: title, description: description, _id: _id })=>`\n    <li class=\"books__item\" id=${_id}>\n      <div class=\"books__wrapper\">\n        <img class=\"books__image\" src=\"${book_image}\"  alt=\"${description}\" loading=\"lazy\"  />\n        <div class=\"books__overlay\">\n          <p class=\"books__overlay-text\">QUICK VIEW</p>\n        </div>\n      </div>\n      <div class=\"books__info\">\n        <p class=\"books__info-title\">${title}</p>\n        <p class=\"books__info-author\">${author}</p>\n      </div>\n    </li>\n    `).join(\"\");\n}\nasync function $770301a53d70cdee$export$88822ba5d4a00852(value) {\n    const currentCategoryElement = document.querySelector(\".js-current-category\");\n    if (currentCategoryElement) currentCategoryElement.classList.remove(\"js-current-category\");\n    const newCategoryElement = document.querySelector(`li[data-category=\"${value}\"]`);\n    if (newCategoryElement) newCategoryElement.classList.add(\"js-current-category\");\n    else console.error(`Element with category \"${value}\" not found.`);\n}\n\n\n\n\nvar $3gP5N = parcelRequire(\"3gP5N\");\n\nvar $3gP5N = parcelRequire(\"3gP5N\");\n\nvar $46SdE = parcelRequire(\"46SdE\");\n\nvar $58mXF = parcelRequire(\"58mXF\");\nconst $5010b8924aadc9bd$var$bookIMG = document.getElementById(\"bookImage\");\nconst $5010b8924aadc9bd$var$bookTitle = document.getElementById(\"bookTitle\");\nconst $5010b8924aadc9bd$var$bookAuthor = document.getElementById(\"bookAuthor\");\nconst $5010b8924aadc9bd$var$bookDescription = document.getElementById(\"bookDescription\");\nconst $5010b8924aadc9bd$var$linkAmazon = document.querySelector(\".link-amazon\");\nconst $5010b8924aadc9bd$var$linkBook = document.querySelector(\".link-apple\");\nconst $5010b8924aadc9bd$var$toggleButton = document.getElementById(\"toggleShoppingList\");\nconst $5010b8924aadc9bd$var$anonymousUser = document.querySelector(\".toggle-shopping-list_anonymous-user-content\");\nasync function $5010b8924aadc9bd$export$60523367a7e10402(bookId) {\n    const { data: book } = await (0, $3gP5N.getBookByID)(bookId);\n    $5010b8924aadc9bd$var$bookIMG.attributes.src.value = book.book_image;\n    $5010b8924aadc9bd$var$bookTitle.textContent = book.title;\n    $5010b8924aadc9bd$var$bookAuthor.textContent = book.author;\n    $5010b8924aadc9bd$var$bookDescription.insertAdjacentHTML(\"beforeend\", book.description);\n    $5010b8924aadc9bd$var$linkAmazon.attributes.href.value = book.buy_links[0].url;\n    $5010b8924aadc9bd$var$linkBook.attributes.href.value = book.buy_links[1].url;\n    (0, $46SdE.onAuthStateChanged)((0, $58mXF.auth), (user)=>{\n        if (user) {\n            $5010b8924aadc9bd$var$toggleButton.disabled = false;\n            $5010b8924aadc9bd$var$anonymousUser.style.display = \"none\";\n        } else {\n            $5010b8924aadc9bd$var$toggleButton.disabled = true;\n            $5010b8924aadc9bd$var$anonymousUser.style.display = \"block\";\n        }\n    });\n    let shoppingList = JSON.parse(localStorage.getItem(\"shoppingListArray\"));\n    let isBookInList = false;\n    if (shoppingList) isBookInList = shoppingList.indexOf(bookId) !== -1;\n    $5010b8924aadc9bd$var$toggleButton.textContent = isBookInList ? \"Remove from the shopping list\" : \"Add to the shopping list\";\n    $5010b8924aadc9bd$var$toggleButton.onclick = ()=>{\n        if (!shoppingList) {\n            $5010b8924aadc9bd$var$toggleButton.textContent = \"Remove from the shopping list\";\n            shoppingList = [];\n            shoppingList.push(bookId);\n            localStorage.setItem(\"shoppingListArray\", JSON.stringify(shoppingList));\n        } else {\n            isBookInList = shoppingList.indexOf(bookId) !== -1;\n            if (isBookInList) {\n                shoppingList.splice(shoppingList.indexOf(bookId), 1);\n                localStorage.setItem(\"shoppingListArray\", JSON.stringify(shoppingList));\n                $5010b8924aadc9bd$var$toggleButton.textContent = \"Add to the shopping list\";\n            } else {\n                shoppingList.push(bookId);\n                localStorage.setItem(\"shoppingListArray\", JSON.stringify(shoppingList));\n                $5010b8924aadc9bd$var$toggleButton.textContent = \"Remove from the shopping list\";\n            }\n            if (shoppingList.length === 0) localStorage.removeItem(\"shoppingListArray\");\n        }\n    };\n}\nfunction $5010b8924aadc9bd$export$d7e8d4d4450c819c() {\n    const backdrop = document.querySelector(\"[data-modal]\");\n    backdrop.classList.add(\"is-active\");\n    document.body.classList.add(\"no-scroll\");\n    backdrop.addEventListener(\"click\", $5010b8924aadc9bd$var$closeModalByClicking);\n    document.body.addEventListener(\"keyup\", $5010b8924aadc9bd$var$closeModalByKey);\n}\nfunction $5010b8924aadc9bd$var$closeModalByClicking(e) {\n    const backdrop = document.querySelector(\"[data-modal]\");\n    const modalWindow = document.querySelector(\"[data-modal-window]\");\n    const closeBtn = document.querySelector(\"[data-modal-close]\");\n    if (e.target.closest(\"[data-modal-close]\") === closeBtn) {\n        backdrop.classList.remove(\"is-active\");\n        document.body.classList.remove(\"no-scroll\");\n        backdrop.removeEventListener(\"click\", $5010b8924aadc9bd$var$closeModalByClicking);\n        document.body.removeEventListener(\"keyup\", $5010b8924aadc9bd$var$closeModalByKey);\n    }\n}\nfunction $5010b8924aadc9bd$var$closeModalByKey(e) {\n    const backdrop = document.querySelector(\"[data-modal]\");\n    const key = e.keyCode;\n    if (key == 27) {\n        backdrop.classList.remove(\"is-active\");\n        document.body.classList.remove(\"no-scroll\");\n        backdrop.removeEventListener(\"click\", $5010b8924aadc9bd$var$closeModalByClicking);\n        document.body.removeEventListener(\"keyup\", $5010b8924aadc9bd$var$closeModalByKey);\n    }\n}\n\n\nconst $853f15cff2b41ef1$var$goToTopButton = document.querySelector(\".go-to-top\");\n$853f15cff2b41ef1$var$goToTopButton.style.display = \"none\";\nfunction $853f15cff2b41ef1$var$showGoToTopButton() {\n    if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) $853f15cff2b41ef1$var$goToTopButton.style.display = \"block\";\n    else $853f15cff2b41ef1$var$goToTopButton.style.display = \"none\";\n}\nfunction $853f15cff2b41ef1$var$backToTop() {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n}\n$853f15cff2b41ef1$var$goToTopButton.addEventListener(\"click\", $853f15cff2b41ef1$var$backToTop);\nwindow.addEventListener(\"scroll\", $853f15cff2b41ef1$var$showGoToTopButton);\nfunction $853f15cff2b41ef1$export$f5d3771428a1f489() {\n    window.scrollTo({\n        top: 0,\n        left: 0,\n        behavior: \"smooth\"\n    });\n}\n\n\nconst $e465ae78c6c50644$var$refBooks = document.querySelector(\".books-container\");\nconst $e465ae78c6c50644$var$refCategory = document.querySelector(\".category-list\");\n$e465ae78c6c50644$var$init();\nasync function $e465ae78c6c50644$var$init() {\n    try {\n        const categoryApi = await (0, $3gP5N.getCategoryList)();\n        $e465ae78c6c50644$var$refCategory.insertAdjacentHTML(\"beforeend\", await (0, $770301a53d70cdee$export$ca123186edb030a4)(categoryApi));\n    } catch (error) {}\n    try {\n        const resp = await (0, $3gP5N.getTopBooks)();\n        $e465ae78c6c50644$var$refBooks.insertAdjacentHTML(\"afterbegin\", '<h2 class=\"books-title\">Best Sellers<span class=\"books-colortitle\"> Books</span></h2>');\n        $e465ae78c6c50644$var$refBooks.insertAdjacentHTML(\"beforeend\", (await (0, $770301a53d70cdee$export$8fa6b5c7c2e0e309)(resp.data)).join(\"\"));\n    } catch (error) {}\n}\nconst $e465ae78c6c50644$var$onCategoryClick = async function(e) {\n    e.preventDefault();\n    if (e.target.classList.contains(\"category-item\")) {\n        $e465ae78c6c50644$var$refBooks.innerHTML = \"\";\n        if (e.target.dataset.category === `All Categories`) {\n            try {\n                const resp = await (0, $3gP5N.getTopBooks)();\n                $e465ae78c6c50644$var$refBooks.insertAdjacentHTML(\"afterbegin\", '<h2 class=\"books-title\">Best Sellers<span class=\"books-colortitle\"> Books</span></h2>');\n                $e465ae78c6c50644$var$refBooks.insertAdjacentHTML(\"beforeend\", (await (0, $770301a53d70cdee$export$8fa6b5c7c2e0e309)(resp.data)).join(\"\"));\n                (0, $770301a53d70cdee$export$88822ba5d4a00852)(e.target.dataset.category);\n            } catch (error) {}\n            return;\n        } else try {\n            const { data: data } = await (0, $3gP5N.getOneCategory)(e.target.dataset.category);\n            $e465ae78c6c50644$var$refBooks.insertAdjacentHTML(\"beforeend\", await (0, $770301a53d70cdee$export$ef55d93817bcd964)(e.target.dataset.category, data));\n            (0, $770301a53d70cdee$export$88822ba5d4a00852)(e.target.dataset.category);\n        } catch (error) {}\n    }\n};\nconst $e465ae78c6c50644$var$onSeeMoreClick = async function(e) {\n    e.preventDefault();\n    const currentEl = e.target.closest(\".books__item\");\n    if (currentEl) {\n        const bookId = currentEl.attributes.id.value;\n        (0, $5010b8924aadc9bd$export$60523367a7e10402)(bookId);\n        (0, $5010b8924aadc9bd$export$d7e8d4d4450c819c)();\n    }\n    const refsSeeMoreBtn = e.target.classList.contains(\"see-more\");\n    const refsAllCategoriesBtn = e.target.classList.contains(\"all-categories__btn\");\n    const clickedCategory = e.target.dataset.js;\n    if (refsSeeMoreBtn) {\n        (0, $853f15cff2b41ef1$export$f5d3771428a1f489)();\n        $e465ae78c6c50644$var$refBooks.innerHTML = \"\";\n        try {\n            const { data: data } = await (0, $3gP5N.getOneCategory)(clickedCategory);\n            $e465ae78c6c50644$var$refBooks.insertAdjacentHTML(\"beforeend\", await (0, $770301a53d70cdee$export$ef55d93817bcd964)(clickedCategory, data));\n            (0, $770301a53d70cdee$export$88822ba5d4a00852)(clickedCategory);\n        } catch (error) {}\n    } else if (refsAllCategoriesBtn) {\n        (0, $853f15cff2b41ef1$export$f5d3771428a1f489)();\n        $e465ae78c6c50644$var$refBooks.innerHTML = \"\";\n        try {\n            $e465ae78c6c50644$var$refBooks.insertAdjacentHTML(\"afterbegin\", '<h2 class=\"books-title\">Best Sellers<span class=\"books-colortitle\"> Books</span></h2>');\n            const resp = await (0, $3gP5N.getTopBooks)();\n            $e465ae78c6c50644$var$refBooks.insertAdjacentHTML(\"beforeend\", (await (0, $770301a53d70cdee$export$8fa6b5c7c2e0e309)(resp.data)).join(\"\"));\n            (0, $770301a53d70cdee$export$88822ba5d4a00852)(clickedCategory);\n        } catch (error) {}\n    }\n};\n$e465ae78c6c50644$var$refCategory.addEventListener(\"click\", $e465ae78c6c50644$var$onCategoryClick);\n$e465ae78c6c50644$var$refBooks.addEventListener(\"click\", $e465ae78c6c50644$var$onSeeMoreClick);\n\n\nparcelRequire(\"9npD5\");\nparcelRequire(\"3WmGK\");\nparcelRequire(\"iB7wN\");\n\nparcelRequire(\"8h5e4\");\nparcelRequire(\"lMJiq\");\n\nparcelRequire(\"58mXF\");\nparcelRequire(\"5cjDG\");\nparcelRequire(\"fHyLY\");\n\n\n//# sourceMappingURL=index.a6991cc9.js.map\n","import './js/home_page/fetch.js';\nimport './js/home_page/func.js';\nimport './js/home_page/home_page.js';\nimport './js/support-ukraine.js';\nimport './js/fundation_api.js';\nimport './js/dark-mode.js';\nimport './js/modal-window.js';\nimport './js/buger-modal.js';\nimport './js/sign-form.js';\nimport './main.css';\nimport './js/auth/auth.js';\nimport './js/auth/auth-form.js';\nimport './js/loader.js';\n","export async function renderCategoryList(fetch) {\n  let allCategoryMarkup = `<li class=\"category-item js-current-category\" data-category=\"All Categories\">All Categories</li>`;\n  return (allCategoryMarkup += fetch.data\n    .map(({ list_name }) => {\n      return `<li class=\"category-item\" data-category=\"${list_name}\">${list_name}</li>`;\n    })\n    .join(''));\n}\n\nexport async function renderBooksItems(data) {\n  return await Promise.all(\n    data.map(async ({ list_name, books }) => {\n      return `\n    <div class=\"book-category-container\">\n    <h3 class=\"js-book-category\">${list_name}</h3>\n    <ul class='books-list'>${await ShowLessData(books)}</ul>\n    <button class=\"button see-more\" data-js=\"${list_name}\" aria-label=\"See more\">See more</button>\n    </div>\n    `;\n    }),\n  );\n}\nfunction addMediaWidth() {\n  const screenSize = window.screen.width;\n\n  addEventListener('resize', () => {\n    if (\n      (window.innerWidth > 767 && screenSize < 768) ||\n      (window.innerWidth > 1279 && screenSize < 1280) ||\n      (window.innerWidth < 1279 && screenSize > 1280) ||\n      (window.innerWidth > 1439 && screenSize < 1440) ||\n      (window.innerWidth < 1439 && screenSize > 1440)\n    ) {\n      location.reload();\n    }\n  });\n\n  if (screenSize < 768) {\n    return 'mobile';\n  } else if (screenSize < 1280) {\n    return 'tablet';\n  } else if (screenSize < 1440) {\n    return 'desktop';\n  } else {\n    return 'desktopXl';\n  }\n}\n\nexport const ShowLessData = async function (data) {\n  if (addMediaWidth() === 'mobile') {\n    return makeListOfBooks(data.slice(0, 1));\n  } else if (addMediaWidth() === 'tablet') {\n    return makeListOfBooks(data.slice(0, 3));\n  } else if (addMediaWidth() === 'desktop') return makeListOfBooks(data.slice(0, 4));\n  else {\n    return makeListOfBooks(data);\n  }\n};\n\nexport async function makeCategoryPage(category, data) {\n  const titleWords = category.split(' ');\n  const halfIndex = Math.ceil(titleWords.length / 2);\n  const firstHalf = titleWords.slice(0, halfIndex).join(' ');\n  const lastHalf = titleWords.slice(halfIndex).join(' ');\n\n  return `\n  <h2 class=\"books-title\">${firstHalf} <span class=\"books-colortitle\">${lastHalf}</span></h2>\n  <ul class=\"books-list\">${await makeListOfBooks(data)}</ul>\n  <button class=\"button all-categories__btn\" data-js=\"All Categories\" aria-label=\"All categories\">All Categories</button>\n`;\n}\n\nexport async function makeListOfBooks(data) {\n  return data\n    .map(\n      ({ author, book_image, title, description, _id }) => `\n    <li class=\"books__item\" id=${_id}>\n      <div class=\"books__wrapper\">\n        <img class=\"books__image\" src=\"${book_image}\"  alt=\"${description}\" loading=\"lazy\"  />\n        <div class=\"books__overlay\">\n          <p class=\"books__overlay-text\">QUICK VIEW</p>\n        </div>\n      </div>\n      <div class=\"books__info\">\n        <p class=\"books__info-title\">${title}</p>\n        <p class=\"books__info-author\">${author}</p>\n      </div>\n    </li>\n    `,\n    )\n    .join('');\n}\n\nexport async function currentCategoryToggle(value) {\n  const currentCategoryElement = document.querySelector('.js-current-category');\n  if (currentCategoryElement) {\n    currentCategoryElement.classList.remove('js-current-category');\n  }\n  const newCategoryElement = document.querySelector(`li[data-category=\"${value}\"]`);\n  if (newCategoryElement) {\n    newCategoryElement.classList.add('js-current-category');\n  } else {\n    console.error(`Element with category \"${value}\" not found.`);\n  }\n}\n","import { makeCategoryPage } from './func';\nimport { renderCategoryList } from './func';\nimport { renderBooksItems } from './func';\nimport { currentCategoryToggle } from './func';\nimport { getCategoryList, getOneCategory, getTopBooks } from './fetch';\nimport { initModal, showModal } from '../modal-window';\nimport { scrollToTop } from '../scrollTop';\n\nconst refBooks = document.querySelector('.books-container');\nconst refCategory = document.querySelector('.category-list');\n\ninit();\n\nasync function init() {\n  try {\n    const categoryApi = await getCategoryList();\n    refCategory.insertAdjacentHTML('beforeend', await renderCategoryList(categoryApi));\n  } catch (error) {}\n  try {\n    const resp = await getTopBooks();\n    refBooks.insertAdjacentHTML(\n      'afterbegin',\n      '<h2 class=\"books-title\">Best Sellers<span class=\"books-colortitle\"> Books</span></h2>',\n    );\n    refBooks.insertAdjacentHTML('beforeend', (await renderBooksItems(resp.data)).join(''));\n  } catch (error) {}\n}\n\nconst onCategoryClick = async function (e) {\n  e.preventDefault();\n\n  if (e.target.classList.contains('category-item')) {\n    refBooks.innerHTML = '';\n\n    if (e.target.dataset.category === `All Categories`) {\n      try {\n        const resp = await getTopBooks();\n        refBooks.insertAdjacentHTML(\n          'afterbegin',\n          '<h2 class=\"books-title\">Best Sellers<span class=\"books-colortitle\"> Books</span></h2>',\n        );\n        refBooks.insertAdjacentHTML('beforeend', (await renderBooksItems(resp.data)).join(''));\n        currentCategoryToggle(e.target.dataset.category);\n      } catch (error) {}\n      return;\n    } else {\n      try {\n        const { data } = await getOneCategory(e.target.dataset.category);\n        refBooks.insertAdjacentHTML(\n          'beforeend',\n          await makeCategoryPage(e.target.dataset.category, data),\n        );\n        currentCategoryToggle(e.target.dataset.category);\n      } catch (error) {}\n    }\n  }\n};\nconst onSeeMoreClick = async function (e) {\n  e.preventDefault();\n  const currentEl = e.target.closest('.books__item');\n  if (currentEl) {\n    const bookId = currentEl.attributes.id.value;\n    initModal(bookId);\n    showModal();\n  }\n  const refsSeeMoreBtn = e.target.classList.contains('see-more');\n  const refsAllCategoriesBtn = e.target.classList.contains('all-categories__btn');\n  const clickedCategory = e.target.dataset.js;\n  if (refsSeeMoreBtn) {\n    scrollToTop();\n    refBooks.innerHTML = '';\n    try {\n      const { data } = await getOneCategory(clickedCategory);\n      refBooks.insertAdjacentHTML('beforeend', await makeCategoryPage(clickedCategory, data));\n      currentCategoryToggle(clickedCategory);\n    } catch (error) {}\n  } else if (refsAllCategoriesBtn) {\n    scrollToTop();\n    refBooks.innerHTML = '';\n    try {\n      refBooks.insertAdjacentHTML(\n        'afterbegin',\n        '<h2 class=\"books-title\">Best Sellers<span class=\"books-colortitle\"> Books</span></h2>',\n      );\n      const resp = await getTopBooks();\n      refBooks.insertAdjacentHTML('beforeend', (await renderBooksItems(resp.data)).join(''));\n      currentCategoryToggle(clickedCategory);\n    } catch (error) {}\n  }\n};\n\nrefCategory.addEventListener('click', onCategoryClick);\nrefBooks.addEventListener('click', onSeeMoreClick);\n","import { getBookByID } from './home_page/fetch';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { getAuth } from 'firebase/auth';\nimport { auth, app, firebaseConfig } from './auth/auth';\n\nconst bookIMG = document.getElementById('bookImage');\nconst bookTitle = document.getElementById('bookTitle');\nconst bookAuthor = document.getElementById('bookAuthor');\nconst bookDescription = document.getElementById('bookDescription');\nconst linkAmazon = document.querySelector('.link-amazon');\nconst linkBook = document.querySelector('.link-apple');\nconst toggleButton = document.getElementById('toggleShoppingList');\nconst anonymousUser = document.querySelector('.toggle-shopping-list_anonymous-user-content');\n\n// Funkcja inicjująca modal z danymi książki\nexport async function initModal(bookId) {\n  const { data: book } = await getBookByID(bookId);\n\n  bookIMG.attributes.src.value = book.book_image;\n  bookTitle.textContent = book.title;\n  bookAuthor.textContent = book.author;\n  bookDescription.insertAdjacentHTML('beforeend', book.description);\n\n  linkAmazon.attributes.href.value = book.buy_links[0].url;\n  linkBook.attributes.href.value = book.buy_links[1].url;\n\n  onAuthStateChanged(auth, user => {\n    if (user) {\n      toggleButton.disabled = false;\n      anonymousUser.style.display = 'none';\n    } else {\n      toggleButton.disabled = true;\n      anonymousUser.style.display = 'block';\n    }\n  });\n\n  let shoppingList = JSON.parse(localStorage.getItem('shoppingListArray'));\n  let isBookInList = false;\n  if (shoppingList) {\n    isBookInList = shoppingList.indexOf(bookId) !== -1;\n  }\n\n  toggleButton.textContent = isBookInList\n    ? 'Remove from the shopping list'\n    : 'Add to the shopping list';\n  toggleButton.onclick = () => {\n    if (!shoppingList) {\n      toggleButton.textContent = 'Remove from the shopping list';\n      shoppingList = [];\n      shoppingList.push(bookId);\n      localStorage.setItem('shoppingListArray', JSON.stringify(shoppingList));\n    } else {\n      isBookInList = shoppingList.indexOf(bookId) !== -1;\n\n      if (isBookInList) {\n        shoppingList.splice(shoppingList.indexOf(bookId), 1);\n        localStorage.setItem('shoppingListArray', JSON.stringify(shoppingList));\n        toggleButton.textContent = 'Add to the shopping list';\n      } else {\n        shoppingList.push(bookId);\n        localStorage.setItem('shoppingListArray', JSON.stringify(shoppingList));\n        toggleButton.textContent = 'Remove from the shopping list';\n      }\n\n      if (shoppingList.length === 0) {\n        localStorage.removeItem('shoppingListArray');\n      }\n    }\n  };\n}\n\nexport function showModal() {\n  const backdrop = document.querySelector('[data-modal]');\n  backdrop.classList.add('is-active');\n  document.body.classList.add('no-scroll');\n  backdrop.addEventListener('click', closeModalByClicking);\n  document.body.addEventListener('keyup', closeModalByKey);\n}\n\nfunction closeModalByClicking(e) {\n  const backdrop = document.querySelector('[data-modal]');\n  const modalWindow = document.querySelector('[data-modal-window]');\n  const closeBtn = document.querySelector('[data-modal-close]');\n\n  if (e.target.closest('[data-modal-close]') === closeBtn) {\n    backdrop.classList.remove('is-active');\n    document.body.classList.remove('no-scroll');\n\n    backdrop.removeEventListener('click', closeModalByClicking);\n    document.body.removeEventListener('keyup', closeModalByKey);\n  }\n}\n\nfunction closeModalByKey(e) {\n  const backdrop = document.querySelector('[data-modal]');\n\n  const key = e.keyCode;\n  if (key == 27) {\n    backdrop.classList.remove('is-active');\n    document.body.classList.remove('no-scroll');\n\n    backdrop.removeEventListener('click', closeModalByClicking);\n    document.body.removeEventListener('keyup', closeModalByKey);\n  }\n}\n","const goToTopButton = document.querySelector('.go-to-top');\ngoToTopButton.style.display = 'none';\n\nfunction showGoToTopButton() {\n  if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) {\n    goToTopButton.style.display = 'block';\n  } else {\n    goToTopButton.style.display = 'none';\n  }\n}\n\nfunction backToTop() {\n  document.body.scrollTop = 0;\n  document.documentElement.scrollTop = 0;\n}\n\ngoToTopButton.addEventListener('click', backToTop);\nwindow.addEventListener('scroll', showGoToTopButton);\n\nexport function scrollToTop() {\n  window.scrollTo({\n    top: 0,\n    left: 0,\n    behavior: 'smooth',\n  });\n}\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","$770301a53d70cdee$export$ca123186edb030a4","fetch","allCategoryMarkup","data","map","list_name","join","$770301a53d70cdee$export$8fa6b5c7c2e0e309","Promise","all","books","$770301a53d70cdee$export$83fa17a33843ed2e","$770301a53d70cdee$var$addMediaWidth","screenSize","window","screen","width","addEventListener","innerWidth","location","reload","id","exports","init","module","call","err","Error","code","register","$770301a53d70cdee$export$21c7b1be35f5970e","slice","$770301a53d70cdee$export$ef55d93817bcd964","category","titleWords","split","halfIndex","Math","ceil","length","firstHalf","lastHalf","author","book_image","title","description","_id","$770301a53d70cdee$export$88822ba5d4a00852","value","currentCategoryElement","document","querySelector","classList","remove","newCategoryElement","add","console","error","$3gP5N","$46SdE","$58mXF","$5010b8924aadc9bd$var$bookIMG","getElementById","$5010b8924aadc9bd$var$bookTitle","$5010b8924aadc9bd$var$bookAuthor","$5010b8924aadc9bd$var$bookDescription","$5010b8924aadc9bd$var$linkAmazon","$5010b8924aadc9bd$var$linkBook","$5010b8924aadc9bd$var$toggleButton","$5010b8924aadc9bd$var$anonymousUser","$5010b8924aadc9bd$export$60523367a7e10402","bookId","book","getBookByID","attributes","src","textContent","insertAdjacentHTML","href","buy_links","url","onAuthStateChanged","auth","user","disabled","style","display","shoppingList","JSON","parse","localStorage","getItem","isBookInList","indexOf","onclick","splice","setItem","stringify","push","removeItem","$5010b8924aadc9bd$var$closeModalByClicking","e","backdrop","closeBtn","target","closest","body","removeEventListener","$5010b8924aadc9bd$var$closeModalByKey","keyCode","$853f15cff2b41ef1$var$goToTopButton","$853f15cff2b41ef1$export$f5d3771428a1f489","scrollTo","top","left","behavior","scrollTop","documentElement","$e465ae78c6c50644$var$refBooks","$e465ae78c6c50644$var$refCategory","$e465ae78c6c50644$var$init","categoryApi","getCategoryList","resp","getTopBooks","$e465ae78c6c50644$var$onCategoryClick","preventDefault","contains","innerHTML","dataset","getOneCategory","$e465ae78c6c50644$var$onSeeMoreClick","currentEl","refsSeeMoreBtn","refsAllCategoriesBtn","clickedCategory","js"],"version":3,"file":"index.a6991cc9.js.map"}