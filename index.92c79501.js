var t=globalThis,e={},o={},a=t.parcelRequired7c6;async function n(t){return'<li class="category-item js-current-category" data-category="All Categories">All Categories</li>'+t.data.map(({list_name:t})=>`<li class="category-item" data-category="${t}">${t}</li>`).join("")}async function s(t){return await Promise.all(t.map(async({list_name:t,books:e})=>`
    <div class="book-category-container">
    <h3 class="js-book-category">${t}</h3>
    <ul class='books-list'>${await r(e)}</ul>
    <button class="button see-more" data-js="${t}" aria-label="See more">See more</button>
    </div>
    `))}function i(){let t=window.screen.width;return t<768?"mobile":t<1280?"tablet":t<1440?"desktop":"desktopXl"}null==a&&((a=function(t){if(t in e)return e[t].exports;if(t in o){var a=o[t];delete o[t];var n={id:t,exports:{}};return e[t]=n,a.call(n.exports,n,n.exports),n.exports}var s=Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){o[t]=e},t.parcelRequired7c6=a),a.register,a("3gP5N");const r=async function(t){return"mobile"===i()?c(t.slice(0,1)):"tablet"===i()?c(t.slice(0,3)):"desktop"===i()?c(t.slice(0,4)):c(t)};async function l(t,e){let o=t.split(" "),a=Math.ceil(o.length/2),n=o.slice(0,a).join(" "),s=o.slice(a).join(" ");return`
  <h2 class="books-title">${n} <span class="books-colortitle">${s}</span></h2>
  <ul class="books-list">${await c(e)}</ul>
  <button class="button all-categories__btn" data-js="All Categories" aria-label="All categories">All Categories</button>
`}async function c(t){return t.map(({author:t,book_image:e,title:o,description:a,_id:n})=>`
    <li class="books__item" id=${n}>
      <div class="books__wrapper">
        <img class="books__image" src="${e}"  alt="${a}" loading="lazy"  />
        <div class="books__overlay">
          <p class="books__overlay-text">QUICK VIEW</p>
        </div>
      </div>
      <div class="books__info">
        <p class="books__info-title">${o}</p>
        <p class="books__info-author">${t}</p>
      </div>
    </li>
    `).join("")}async function d(t){let e=document.querySelector(".js-current-category");e&&e.classList.remove("js-current-category");let o=document.querySelector(`li[data-category="${t}"]`);o?o.classList.add("js-current-category"):console.error(`Element with category "${t}" not found.`)}var u=(a("3gP5N"),a("3gP5N"));const g=document.getElementById("bookImage"),y=document.getElementById("bookTitle"),m=document.getElementById("bookAuthor"),p=document.getElementById("bookDescription"),b=document.querySelector(".link-amazon"),k=document.querySelector(".link-apple"),h=document.querySelector(".link-book-shop");async function f(t){let{data:e}=await (0,u.getBookByID)(t);g.attributes.src.value=e.book_image,y.textContent=e.title,m.textContent=`Autor: ${e.author}`,p.textContent=e.description,b.attributes.href.value=e.buy_links[0].url,b.innerHTML=e.buy_links[0].name,k.attributes.href.value=e.buy_links[1].url,k.innerHTML=e.buy_links[1].name,h.attributes.href.value=e.buy_links[4].url,h.innerHTML=e.buy_links[4].name;let o=document.getElementById("toggleShoppingList"),a=JSON.parse(localStorage.getItem("shoppingListArray")),n=!1;a&&(n=-1!==a.indexOf(t)),o.textContent=n?"Remove from the shopping list":"Add to the shopping list",o.onclick=()=>{a?((n=-1!==a.indexOf(t))?(a.splice(a.indexOf(t),1),localStorage.setItem("shoppingListArray",JSON.stringify(a)),o.textContent="Add to the shopping list"):(a.push(t),localStorage.setItem("shoppingListArray",JSON.stringify(a)),o.textContent="Remove from the shopping list"),0===a.length&&localStorage.removeItem("shoppingListArray")):(o.textContent="Remove from the shopping list",(a=[]).push(t),localStorage.setItem("shoppingListArray",JSON.stringify(a)))}}function _(){document.getElementById("myModal").style.display="none"}function v(){window.scrollTo({top:0,left:0,behavior:"smooth"})}document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("myModal");document.querySelector(".close").onclick=()=>_(),window.onclick=e=>{e.target===t&&_()}});const L=document.querySelector(".books-container"),w=document.querySelector(".category-list");!async function(){try{let t=await (0,u.getCategoryList)();w.insertAdjacentHTML("beforeend",await n(t))}catch(t){}try{let t=await (0,u.getTopBooks)();L.insertAdjacentHTML("afterbegin",'<h2 class="books-title">Best Sellers<span class="books-colortitle"> Books</span></h2>'),L.insertAdjacentHTML("beforeend",(await s(t.data)).join(""))}catch(t){}}();const S=async function(t){if(t.preventDefault(),t.target.classList.contains("category-item")){if(L.innerHTML="","All Categories"===t.target.dataset.category){try{let e=await (0,u.getTopBooks)();L.insertAdjacentHTML("afterbegin",'<h2 class="books-title">Best Sellers<span class="books-colortitle"> Books</span></h2>'),L.insertAdjacentHTML("beforeend",(await s(e.data)).join("")),d(t.target.dataset.category)}catch(t){}return}try{let{data:e}=await (0,u.getOneCategory)(t.target.dataset.category);L.insertAdjacentHTML("beforeend",await l(t.target.dataset.category,e)),d(t.target.dataset.category)}catch(t){}}},j=async function(t){t.preventDefault();let e=t.target.closest(".books__item");e&&(f(e.attributes.id.value),document.getElementById("myModal").style.display="block");let o=t.target.classList.contains("see-more"),a=t.target.classList.contains("all-categories__btn"),n=t.target.dataset.js;if(o){v(),L.innerHTML="";try{let{data:t}=await (0,u.getOneCategory)(n);L.insertAdjacentHTML("beforeend",await l(n,t)),d(n)}catch(t){}}else if(a){v(),L.innerHTML="";try{L.insertAdjacentHTML("afterbegin",'<h2 class="books-title">Best Sellers<span class="books-colortitle"> Books</span></h2>');let t=await (0,u.getTopBooks)();L.insertAdjacentHTML("beforeend",(await s(t.data)).join("")),d(n)}catch(t){}}};w.addEventListener("click",S),L.addEventListener("click",j),a("5Q9Pd"),a("3WmGK"),a("8sdLw"),a("8h5e4");const A=document.querySelector(".form-wrapper"),T=document.querySelector(".sign-up"),M=document.querySelector(".au-modal-close");document.querySelector("#name"),document.querySelector('input[type="email"]'),document.querySelector('input[type="password"]'),A.style.display="none",T.onclick=()=>void(A.style.display="block"),M.onclick=()=>void(A.style.display="none");
//# sourceMappingURL=index.92c79501.js.map
