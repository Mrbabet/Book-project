var t=globalThis,e={},n={},s=t.parcelRequired7c6;null==s&&((s=function(t){if(t in e)return e[t].exports;if(t in n){var s=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,s.call(a.exports,a,a.exports),a.exports}var o=Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){n[t]=e},t.parcelRequired7c6=s),s.register;var a=s("3gP5N");s("9npD5"),s("3WmGK"),s("iB7wN"),s("8h5e4");var o=s("58mXF");s("5cjDG"),s("j6rK8");var i=s("46SdE"),l=s("3dylo");const r=document.querySelector(".shopping-list-items"),d=document.querySelector(".shopping-list-empty"),c=document.querySelector(".shopping-list-pagination"),p=document.querySelector(".first-page-btn"),g=document.querySelector(".previous-page-btn"),h=document.querySelector(".next-page-btn"),u=document.querySelector(".last-page-btn"),y=document.querySelector(".page-number-first"),m=document.querySelector(".page-number-second"),b=document.querySelector(".page-number-third"),x=document.querySelector(".page-number-more"),_=window.matchMedia("screen and (min-width: 768px)"),C=document.querySelector(".dark-header");let k=1,v=4,w=1,L=3,S=[],f=!1;const q=async function(t){return console.log(t),r.innerHTML=t.map(({author:t,book_image:e,title:n,description:s,_id:a,buy_links:o,list_name:i})=>`
  <li class="shopping-list_item" id=${a}>
    <div class="books__wrapper">
      <img class="sl__books__image" src="${e}" alt="${s}" loading="lazy"  />
    </div>
    <div class="books__info">
      <p class="sl__books-title">${n}</p>
      <p class="sl__books__listname">${i}</p>
      <p class ="sl__books__desc">${s}</p>
      <a href ="${o[0].url}"><button class ="sl__amazon"></button></a>
      <a href ="${o[1].url}"><button class ="sl__apple-books"></button></a>
      <p class="sl__books__info-author">${t}</p>
      <button class="trash-button" data-elementid=${a}><svg class = "books__button-svg" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M6.75 2.25H11.25M2.25 4.5H15.75M14.25 4.5L13.724 12.3895C13.6451 13.5732 13.6057 14.165 13.35 14.6138C13.1249 15.0088 12.7854 15.3265 12.3762 15.5248C11.9115 15.75 11.3183 15.75 10.132 15.75H7.86799C6.68168 15.75 6.08852 15.75 5.62375 15.5248C5.21457 15.3265 4.87507 15.0088 4.64999 14.6138C4.39433 14.165 4.35488 13.5732 4.27596 12.3895L3.75 4.5M7.5 7.875V11.625M10.5 7.875V11.625" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
    </div>
  </li>
  `).join("")},E=async(t,e)=>{if(!(S=JSON.parse(localStorage.getItem("shoppingListArray")))||0===S.length){k=0,c.style.display="none",d.style.display="flex",r.innerHTML="";return}d.style.display="none";let n=Math.floor(S.length/e);t>(w=S.length%e==0?n:n+1)&&(t=w,k=w);let s=S.slice((t-1)*e,t*e).map(async t=>(await (0,a.getBookByID)(t)).data);q(await Promise.all(s))},M=()=>{sessionStorage.setItem("shoppingListPage",k),E(k,v),sessionStorage.setItem("shoppingListPage",k)},$=t=>{y.dataset.highlight=!1,m.dataset.highlight=!1,b.dataset.highlight=!1},D=(t=!0)=>{k<=0||(y.style.display="block",m.style.display="block",b.style.display="block",x.style.display="none",2===L?($(),b.style.display="none",w>k+L-1&&(x.style.display="block"),w<L&&(m.style.display="none"),!0!==t||f?(k>=1||f)&&(m.textContent=k,m.dataset.highlight=!0,y.textContent=k-1,parseInt(m.textContent)===w-1&&(x.style.display="block")):(y.textContent=k,y.dataset.highlight=!0,k>=1&&(m.textContent=k+1)),L-1<k&&k===w&&(y.textContent=k-(L-1),m.textContent=k,$(),m.dataset.highlight=!0),1===k&&(x.style.display="none",w>k+L-1&&(x.style.display="block"),$(),y.textContent=k,y.dataset.highlight=!0,m.textContent=k+1,b.textContent=k+2)):3!==L||($(),w>k+L-2&&(x.style.display="block"),w<L&&(b.style.display="none",w<L-1&&(m.style.display="none")),!0===t?(y.textContent=k-1,m.textContent=k,m.dataset.highlight=!0,k>=1&&(m.textContent=k,b.textContent=k+1)):k>=1&&(m.textContent=k,m.dataset.highlight=!0,y.textContent=k-1,b.textContent=k+1),L-1<k&&k===w&&(y.textContent=k-(L-1),m.textContent=k-(L-2),b.textContent=k,$(),b.dataset.highlight=!0),1!==k||(x.style.display="none",w>k+L-1&&(x.style.display="block"),$(),y.textContent=k,y.dataset.highlight=!0,m.textContent=k+1,b.textContent=k+2)))},A=t=>{f=k>t,k=t,M(),D(),f=!1},I=t=>{t.matches?(v=3,L=3):(v=4,L=2)};p.addEventListener("click",t=>{k<=1||(k=1,M(),D())}),g.addEventListener("click",t=>{k<=1||(--k,M(),D(!1))}),h.addEventListener("click",t=>{k>=w||(++k,M(),D())}),u.addEventListener("click",t=>{k!==w&&(k=w,M(),D())}),document.addEventListener("click",t=>{t.target.classList.contains("page-number-element")&&A(parseInt(t.target.textContent))}),(0,i.onAuthStateChanged)(o.auth,async t=>{if(t){let e=t.uid,n=(0,l.doc)(o.db,"users",e),s=(await (0,l.getDoc)(n)).data();document.addEventListener("click",async t=>{t.target.classList.contains("trash-button")&&(console.log("click"),s&&s.shoppingListArray&&s.shoppingListArray.includes(t.target.dataset.elementid)&&await (0,l.updateDoc)(n,{shoppingListArray:(0,l.arrayRemove)(t.target.dataset.elementid)}),S.splice(S.indexOf(t.target.dataset.elementid),1),localStorage.setItem("shoppingListArray",JSON.stringify(S)),M(),D())})}}),window.addEventListener("load",()=>{(0,i.onAuthStateChanged)(o.auth,t=>{t?(M(),D()):window.location.href="./"})}),window.addEventListener("DOMContentLoaded",t=>{I(_),C.dataset.pageName="shopping-list"}),_.addEventListener("change",t=>{I(_),M(),D()});
//# sourceMappingURL=shopping-list.b302f952.js.map
