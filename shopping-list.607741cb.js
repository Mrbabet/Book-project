var t=globalThis,e={},n={},s=t.parcelRequired7c6;null==s&&((s=function(t){if(t in e)return e[t].exports;if(t in n){var s=n[t];delete n[t];var o={id:t,exports:{}};return e[t]=o,s.call(o.exports,o,o.exports),o.exports}var a=Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){n[t]=e},t.parcelRequired7c6=s),s.register;var o=s("3gP5N");s("9npD5"),s("3WmGK"),s("iB7wN"),s("8h5e4");var a=s("58mXF");s("5cjDG"),s("j6rK8");var i=s("46SdE"),l=s("3dylo");const r=document.querySelector(".shopping-list-items"),d=document.querySelector(".shopping-list-empty"),c=document.querySelector(".shopping-list-pagination"),p=document.querySelector(".first-page-btn"),g=document.querySelector(".previous-page-btn"),h=document.querySelector(".next-page-btn"),u=document.querySelector(".last-page-btn"),y=document.querySelector(".page-number-first"),m=document.querySelector(".page-number-second"),b=document.querySelector(".page-number-third"),k=document.querySelector(".page-number-more"),x=window.matchMedia("screen and (min-width: 768px)"),C=document.querySelector(".dark-header");document.querySelector(".supporters");let _=1,v=4,L=1,S=3,w=[],f=!1;const q=async function(t){return console.log(t),r.innerHTML=t.map(({author:t,book_image:e,title:n,description:s,_id:o,buy_links:a,list_name:i})=>`
  <li class="shopping-list_item" id=${o}>
    <div class="books__wrapper">
      <img class="sl__books__image" src="${e}" alt="${s}" loading="lazy"  />
    </div>
    <div class="books__info">
      <p class="books__info-title sl__books-title">${n}</p>
      <p class="books__listname">${i}</p>
      <p class = "books__desc">${s}</p>
      <a href ="${a[0].url}"><button class ="sl__amazon"></button></a>
      <a href ="${a[1].url}"><button class ="sl__apple-books"></button></a>
      <p class="books__info-author">${t}</p>
      <button class="trash-button" data-elementid=${o}><svg class = "books__button-svg" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none"><path d="M6.75 2.25H11.25M2.25 4.5H15.75M14.25 4.5L13.724 12.3895C13.6451 13.5732 13.6057 14.165 13.35 14.6138C13.1249 15.0088 12.7854 15.3265 12.3762 15.5248C11.9115 15.75 11.3183 15.75 10.132 15.75H7.86799C6.68168 15.75 6.08852 15.75 5.62375 15.5248C5.21457 15.3265 4.87507 15.0088 4.64999 14.6138C4.39433 14.165 4.35488 13.5732 4.27596 12.3895L3.75 4.5M7.5 7.875V11.625M10.5 7.875V11.625" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
    </div>
  </li>
  `).join("")},E=async(t,e)=>{if(!(w=JSON.parse(localStorage.getItem("shoppingListArray")))||0===w.length){_=0,c.style.display="none",d.style.display="block",r.innerHTML="",console.log("Shopping list EMPTY!!!");return}d.style.display="none";let n=Math.floor(w.length/e);t>(L=w.length%e==0?n:n+1)&&(t=L,_=L);let s=w.slice((t-1)*e,t*e).map(async t=>(await (0,o.getBookByID)(t)).data);q(await Promise.all(s))},M=()=>{sessionStorage.setItem("shoppingListPage",_),E(_,v),sessionStorage.setItem("shoppingListPage",_)},$=t=>{y.dataset.highlight=!1,m.dataset.highlight=!1,b.dataset.highlight=!1},D=(t=!0)=>{_<=0||(y.style.display="block",m.style.display="block",b.style.display="block",k.style.display="none",2===S?($(),b.style.display="none",L>_+S-1&&(k.style.display="block"),L<S&&(m.style.display="none"),!0!==t||f?(_>=1||f)&&(m.textContent=_,m.dataset.highlight=!0,y.textContent=_-1,parseInt(m.textContent)===L-1&&(k.style.display="block")):(y.textContent=_,y.dataset.highlight=!0,_>=1&&(m.textContent=_+1)),S-1<_&&_===L&&(y.textContent=_-(S-1),m.textContent=_,$(),m.dataset.highlight=!0),1===_&&(k.style.display="none",L>_+S-1&&(k.style.display="block"),$(),y.textContent=_,y.dataset.highlight=!0,m.textContent=_+1,b.textContent=_+2)):3!==S||($(),L>_+S-2&&(k.style.display="block"),L<S&&(b.style.display="none",L<S-1&&(m.style.display="none")),!0===t?(y.textContent=_-1,m.textContent=_,m.dataset.highlight=!0,_>=1&&(m.textContent=_,b.textContent=_+1)):_>=1&&(m.textContent=_,m.dataset.highlight=!0,y.textContent=_-1,b.textContent=_+1),S-1<_&&_===L&&(y.textContent=_-(S-1),m.textContent=_-(S-2),b.textContent=_,$(),b.dataset.highlight=!0),1!==_||(k.style.display="none",L>_+S-1&&(k.style.display="block"),$(),y.textContent=_,y.dataset.highlight=!0,m.textContent=_+1,b.textContent=_+2)))},A=t=>{f=_>t,_=t,M(),D(),f=!1},I=t=>{t.matches?(v=3,S=3):(v=4,S=2)};p.addEventListener("click",t=>{_<=1||(_=1,M(),D())}),g.addEventListener("click",t=>{_<=1||(--_,M(),D(!1))}),h.addEventListener("click",t=>{_>=L||(++_,M(),D())}),u.addEventListener("click",t=>{_!==L&&(_=L,M(),D())}),document.addEventListener("click",t=>{t.target.classList.contains("page-number-element")&&A(parseInt(t.target.textContent))}),(0,i.onAuthStateChanged)(a.auth,async t=>{if(t){let e=t.uid,n=(0,l.doc)(a.db,"users",e),s=(await (0,l.getDoc)(n)).data();document.addEventListener("click",async t=>{t.target.classList.contains("trash-button")&&(console.log("click"),s&&s.shoppingListArray&&s.shoppingListArray.includes(t.target.dataset.elementid)&&await (0,l.updateDoc)(n,{shoppingListArray:(0,l.arrayRemove)(t.target.dataset.elementid)}),w.splice(w.indexOf(t.target.dataset.elementid),1),localStorage.setItem("shoppingListArray",JSON.stringify(w)),M(),D())})}}),window.addEventListener("load",()=>{(0,i.onAuthStateChanged)(a.auth,t=>{t?(M(),D()):window.location.href="./"})}),document.addEventListener("DOMContentLoaded",t=>{I(x),C.dataset.pageName="shopping-list"}),x.addEventListener("change",t=>{I(x),M(),D()});
//# sourceMappingURL=shopping-list.607741cb.js.map
