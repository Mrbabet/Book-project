var e=globalThis,t={},o={},a=e.parcelRequired7c6;async function s(e){return'<li class="category-item js-current-category" data-category="All Categories">All Categories</li>'+e.data.map(({list_name:e})=>`<li class="category-item" data-category="${e}">${e}</li>`).join("")}async function n(e){return await Promise.all(e.map(async({list_name:e,books:t})=>`
    <div class="book-category-container">
    <h3 class="js-book-category">${e}</h3>
    <ul class='books-list'>${await i(t)}</ul>
    <button class="button see-more" data-js="${e}" aria-label="See more">See more</button>
    </div>
    `))}function r(){let e=window.screen.width;return e<768?"mobile":e<1280?"tablet":e<1440?"desktop":"desktopXl"}null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var s={id:e,exports:{}};return t[e]=s,a.call(s.exports,s,s.exports),s.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},e.parcelRequired7c6=a),a.register,a("3gP5N");const i=async function(e){return"mobile"===r()?c(e.slice(0,1)):"tablet"===r()?c(e.slice(0,3)):"desktop"===r()?c(e.slice(0,4)):c(e)};async function l(e,t){let o=e.split(" "),a=Math.ceil(o.length/2),s=o.slice(0,a).join(" "),n=o.slice(a).join(" ");return`
  <h2 class="books-title">${s} <span class="books-colortitle">${n}</span></h2>
  <ul class="books-list">${await c(t)}</ul>
  <button class="button all-categories__btn" data-js="All Categories" aria-label="All categories">All Categories</button>
`}async function c(e){return e.map(({author:e,book_image:t,title:o,description:a,_id:s})=>`
    <li class="books__item" id=${s}>
      <div class="books__wrapper">
        <img class="books__image" src="${t}"  alt="${a}" loading="lazy"  />
        <div class="books__overlay">
          <p class="books__overlay-text">QUICK VIEW</p>
        </div>
      </div>
      <div class="books__info">
        <p class="books__info-title">${o}</p>
        <p class="books__info-author">${e}</p>
      </div>
    </li>
    `).join("")}async function d(e){let t=document.querySelector(".js-current-category");t&&t.classList.remove("js-current-category");let o=document.querySelector(`li[data-category="${e}"]`);o?o.classList.add("js-current-category"):console.error(`Element with category "${e}" not found.`)}var u=(a("3gP5N"),a("3gP5N"));const g=document.getElementById("bookImage"),y=document.getElementById("bookTitle"),m=document.getElementById("bookAuthor"),p=document.getElementById("bookDescription"),b=document.querySelector(".link-amazon"),k=document.querySelector(".link-apple");async function f(e){let{data:t}=await (0,u.getBookByID)(e);g.attributes.src.value=t.book_image,y.textContent=t.title,m.textContent=t.author,p.insertAdjacentHTML("beforeend",t.description),console.log(t.description),b.attributes.href.value=t.buy_links[0].url,k.attributes.href.value=t.buy_links[1].url;let o=document.getElementById("toggleShoppingList"),a=JSON.parse(localStorage.getItem("shoppingListArray")),s=!1;a&&(s=-1!==a.indexOf(e)),o.textContent=s?"Remove from the shopping list":"Add to the shopping list",o.onclick=()=>{a?((s=-1!==a.indexOf(e))?(a.splice(a.indexOf(e),1),localStorage.setItem("shoppingListArray",JSON.stringify(a)),o.textContent="Add to the shopping list"):(a.push(e),localStorage.setItem("shoppingListArray",JSON.stringify(a)),o.textContent="Remove from the shopping list"),0===a.length&&localStorage.removeItem("shoppingListArray")):(o.textContent="Remove from the shopping list",(a=[]).push(e),localStorage.setItem("shoppingListArray",JSON.stringify(a)))}}function h(e){let t=document.querySelector("[data-modal]");document.querySelector("[data-modal-window]");let o=document.querySelector("[data-modal-close]");e.target.closest("[data-modal-close]")===o&&(t.classList.remove("is-active"),document.body.classList.remove("no-scroll"),t.removeEventListener("click",h),document.body.removeEventListener("keyup",v))}function v(e){let t=document.querySelector("[data-modal]");27==e.keyCode&&(t.classList.remove("is-active"),document.body.classList.remove("no-scroll"),t.removeEventListener("click",h),document.body.removeEventListener("keyup",v))}function L(){window.scrollTo({top:0,left:0,behavior:"smooth"})}const S=document.querySelector(".books-container"),_=document.querySelector(".category-list");!async function(){try{let e=await (0,u.getCategoryList)();_.insertAdjacentHTML("beforeend",await s(e))}catch(e){}try{let e=await (0,u.getTopBooks)();S.insertAdjacentHTML("afterbegin",'<h2 class="books-title">Best Sellers<span class="books-colortitle"> Books</span></h2>'),S.insertAdjacentHTML("beforeend",(await n(e.data)).join(""))}catch(e){}}();const w=async function(e){if(e.preventDefault(),e.target.classList.contains("category-item")){if(S.innerHTML="","All Categories"===e.target.dataset.category){try{let t=await (0,u.getTopBooks)();S.insertAdjacentHTML("afterbegin",'<h2 class="books-title">Best Sellers<span class="books-colortitle"> Books</span></h2>'),S.insertAdjacentHTML("beforeend",(await n(t.data)).join("")),d(e.target.dataset.category)}catch(e){}return}try{let{data:t}=await (0,u.getOneCategory)(e.target.dataset.category);S.insertAdjacentHTML("beforeend",await l(e.target.dataset.category,t)),d(e.target.dataset.category)}catch(e){}}},j=async function(e){e.preventDefault();let t=e.target.closest(".books__item");t&&(f(t.attributes.id.value),function(){let e=document.querySelector("[data-modal]");e.classList.add("is-active"),document.body.classList.add("no-scroll"),e.addEventListener("click",h),document.body.addEventListener("keyup",v)}());let o=e.target.classList.contains("see-more"),a=e.target.classList.contains("all-categories__btn"),s=e.target.dataset.js;if(o){L(),S.innerHTML="";try{let{data:e}=await (0,u.getOneCategory)(s);S.insertAdjacentHTML("beforeend",await l(s,e)),d(s)}catch(e){}}else if(a){L(),S.innerHTML="";try{S.insertAdjacentHTML("afterbegin",'<h2 class="books-title">Best Sellers<span class="books-colortitle"> Books</span></h2>');let e=await (0,u.getTopBooks)();S.insertAdjacentHTML("beforeend",(await n(e.data)).join("")),d(s)}catch(e){}}};_.addEventListener("click",w),S.addEventListener("click",j),a("5Q9Pd"),a("3WmGK"),a("8sdLw"),a("8h5e4");const A=document.querySelector(".form-wrapper"),T=document.querySelector(".sign-up"),q=document.querySelector(".au-modal-close");document.querySelector("#name"),document.querySelector('input[type="email"]'),document.querySelector('input[type="password"]'),A.style.display="none",T.onclick=()=>void(A.style.display="block"),q.onclick=()=>void(A.style.display="none");
//# sourceMappingURL=index.741525e6.js.map
