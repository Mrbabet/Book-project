var e=globalThis,t={},n={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,o.call(s.exports,s,s.exports),s.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequired7c6=o),o.register;var s=o("3gP5N");o("9npD5"),o("3WmGK"),o("iB7wN"),o("8h5e4"),o("58mXF"),o("5cjDG");var i=o("2AKVI"),a=o("3dylo"),l=o("46SdE");const r=(0,i.initializeApp)({apiKey:"AIzaSyDIt6ClvCkB36kNCs8suIEnlzg23Or1UqU",authDomain:"book-project-8a976.firebaseapp.com",projectId:"book-project-8a976",storageBucket:"book-project-8a976.appspot.com",messagingSenderId:"595782127929",appId:"1:595782127929:web:e819e67d1654c476ec98e8"});(0,a.getFirestore)(r);const c=(0,l.getAuth)(),p=document.querySelector(".shopping-list-items"),d=document.querySelector(".shopping-list-empty"),g=document.querySelector(".shopping-list-pagination"),u=document.querySelector(".first-page-btn"),h=document.querySelector(".previous-page-btn"),m=document.querySelector(".next-page-btn"),y=document.querySelector(".last-page-btn"),b=document.querySelector(".page-number-first"),k=document.querySelector(".page-number-second"),S=document.querySelector(".page-number-third"),v=document.querySelector(".page-number-more");let x=1,f=1,L=[],_=!1;const C=async function(e){return p.innerHTML=e.map(({author:e,book_image:t,title:n,description:o,_id:s,buy_links:i,list_name:a})=>`
  <li class="shopping-list_item" id=${s}>
    <div class="books__wrapper">
      <img class="books__image" src="${t}" alt="${o}" loading="lazy"  />
    </div>
    <div class="books__info">
      <p class="books__info-title">${n}</p>
      <p class="books__info-author">${e}</p>
      <p>${o}</p>
      <p>${i[0].name}</p>
      <p>${i[1].name}</p>
      <p>${i[4].name}</p>
      <p>${a}</p>
      <button class="trash-button" data-elementid=${s}>Trash</button>
    </div>
  </li>
  `).join("")},q=async(e,t)=>{if(!(L=JSON.parse(localStorage.getItem("shoppingListArray")))||0===L.length){x=0,g.style.display="none",d.style.display="block",p.innerHTML="",console.log("Shopping list EMPTY!!!");return}d.style.display="none";let n=Math.floor(L.length/t);e>(f=L.length%t==0?n:n+1)&&(e=f,x=f);let o=L.slice((e-1)*t,e*t).map(async e=>(await (0,s.getBookByID)(e)).data);C(await Promise.all(o))},I=()=>{sessionStorage.setItem("shoppingListPage",x),q(x,3),sessionStorage.setItem("shoppingListPage",x)},E=e=>{b.dataset.highlight=!1,k.dataset.highlight=!1,S.dataset.highlight=!1},$=(e=!0)=>{x<=0||(v.style.display="none",E(),S.style.display="none",f>x+2-1&&(v.style.display="block"),f<2&&(k.style.display="none"),!0!==e||_?(x>=1||_)&&(k.textContent=x,k.dataset.highlight=!0,b.textContent=x-1,parseInt(k.textContent)===f-1&&(v.style.display="block")):(b.textContent=x,b.dataset.highlight=!0,x>=1&&(k.textContent=x+1)),1<x&&x===f&&(b.textContent=x-1,k.textContent=x,E(),k.dataset.highlight=!0),1!==x||(v.style.display="none",f>x+2-1&&(v.style.display="block"),E(),b.textContent=x,b.dataset.highlight=!0,k.textContent=x+1,S.textContent=x+2))},w=e=>{_=x>e,x=e,I(),$(),_=!1};window.addEventListener("load",()=>{(0,l.onAuthStateChanged)(c,e=>{e?(I(),$(),console.log("User is signed in:",e)):(alert("Nothing to display. Log in if you want to see book list"),console("Signed out"))})}),u.addEventListener("click",e=>{x<=1||(x=1,I(),$())}),h.addEventListener("click",e=>{x<=1||(--x,I(),$(!1))}),m.addEventListener("click",e=>{x>=f||(++x,I(),$())}),y.addEventListener("click",e=>{x!==f&&(x=f,I(),$())}),document.addEventListener("click",e=>{e.target.classList.contains("page-number-element")&&w(parseInt(e.target.textContent))}),document.addEventListener("click",e=>{e.target.classList.contains("trash-button")&&(L.splice(L.indexOf(e.target.dataset.elementid),1),localStorage.setItem("shoppingListArray",JSON.stringify(L)),I(),$())});
//# sourceMappingURL=shopping-list.d3d1327a.js.map
